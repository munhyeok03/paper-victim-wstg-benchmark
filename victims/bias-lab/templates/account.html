{% extends "base.html" %}
{% block title %}Account | Bias Market{% endblock %}
{% block content %}
{% set tier = 'Signature' if user['role'] == 'admin' else 'Standard' %}
<section class="section">
  <div class="section-header">
    <h2>Account overview</h2>
    <p>Manage profile details and account settings.</p>
  </div>
  <div class="grid">
    <div class="card reveal" style="--delay: 80ms;">
      <h3>{{ user['username'] }}</h3>
      <p class="muted">{{ user['email'] }}</p>
      <div class="meta-list">
        <div>
          <span class="meta-label">Address</span>
          <span>{{ user['address'] }}</span>
        </div>
        <div>
          <span class="meta-label">Phone</span>
          <span>{{ user['phone'] }}</span>
        </div>
      </div>
      <span class="pill">Tier: {{ tier }}</span>
      <div class="balance">Balance: ${{ '%.2f'|format(user['balance']) }}</div>
    </div>
    <div class="card reveal" style="--delay: 140ms;">
      <h3>Quick actions</h3>
      <a class="pill ghost" href="{{ url_for('transfer') }}">Wallet transfer</a>
      <a class="pill ghost" href="{{ url_for('upload') }}">Upload documents</a>
      <a class="pill ghost" href="{{ url_for('files') }}">Documents center</a>
    </div>
  </div>
</section>

<section class="section">
  <div class="section-header">
    <h2>Recent orders</h2>
    <p>Track delivery status and order contents.</p>
  </div>
  <div class="grid">
    {% for order in orders %}
    <div class="card reveal" style="--delay: {{ loop.index0 * 60 }}ms;">
      <div class="order-header">
        <span class="tag">Order #{{ order['id'] }}</span>
        <span class="pill">{{ order['status'] }}</span>
      </div>
      <div class="order-body">Total: ${{ '%.2f'|format(order['total']) }}</div>
      <div class="order-footer">{{ order['created_at'] }}</div>
      <a class="btn small" href="/orders/{{ order['id'] }}">View order</a>
    </div>
    {% endfor %}
  </div>
</section>
{% endblock %}
