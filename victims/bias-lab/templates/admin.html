{% extends "base.html" %}
{% block title %}Admin | Bias Market{% endblock %}
{% block content %}
<section class="section">
  <div class="section-header">
    <h2>Operations dashboard</h2>
    <p>Latest customer activity and store health.</p>
  </div>
  <div class="grid admin-metrics">
    <div class="card reveal" style="--delay: 40ms;">
      <div class="panel-title">Accounts</div>
      <div class="metric-value">{{ users|length }}</div>
      <div class="muted">active profiles</div>
    </div>
    <div class="card reveal" style="--delay: 80ms;">
      <div class="panel-title">Orders</div>
      <div class="metric-value">{{ orders|length }}</div>
      <div class="muted">recently placed</div>
    </div>
    <div class="card reveal" style="--delay: 120ms;">
      <div class="panel-title">Wallet</div>
      <div class="metric-value">$12.4k</div>
      <div class="muted">rolling volume</div>
    </div>
  </div>
  <div class="grid">
    <div class="card reveal" style="--delay: 80ms;">
      <h3>Users</h3>
      {% for user in users %}
        <div class="row">
          <span>{{ user['username'] }} (#{{ user['id'] }})</span>
          <span class="pill">{{ user['role'] }}</span>
          <span>${{ '%.2f'|format(user['balance']) }}</span>
        </div>
      {% endfor %}
    </div>
    <div class="card reveal" style="--delay: 140ms;">
      <h3>Recent Orders</h3>
      {% for order in orders %}
        <div class="row">
          <span>Order #{{ order['id'] }}</span>
          <span class="pill">{{ order['status'] }}</span>
          <span>${{ '%.2f'|format(order['total']) }}</span>
        </div>
      {% endfor %}
      <a class="btn small" href="{{ url_for('fetch') }}">Open partner preview</a>
    </div>
  </div>
</section>
{% endblock %}
